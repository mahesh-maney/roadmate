<!-- START panel-->
<div class="panel panel-default">


  <div *ngIf="isFailure" class="alert alert-danger" role="alert">
    <strong>Error !!</strong>. Sorry, unable to complete the operation. Please try again.
  </div>

  <!-- START table-responsive-->

  <div class="panel-heading">
    <!-- <h2>Attendance Report Summary</h2> -->
    <div class="row">
        <div class="col-md-4" style="margin-bottom: 15px;">
          <select class="form-control" id="alllocation" name="alllocation" required>
            <option selected="selected">{{dropDownLabel}}</option>
            <option *ngFor="" [ngValue]=""></option>
          </select>
        </div>
    </div>
    <div class="row">
      <div class="col-md-8" style="margin-bottom: 15px;">
          <div class="sd-container">
                {{startDateLabel}} :
                <input class="sd" type="date" name="selected_date"/>
                <span class="open-button">
                  <button type="button">ðŸ“…</button>
                </span>
                &nbsp;&nbsp;&nbsp;&nbsp;{{endDateLabel}} :
                <input class="sd" type="date" name="selected_date"/>
                <span class="open-button1">
                  <button type="button">ðŸ“…</button>
                </span>
                &nbsp;
                <button class="btn btn-default btn-sm" (click)="search()" type="submit">
                  <i class="fa fa-search"></i>
                </button>
          </div>
      </div>
  </div>

  <div class="panel-body"  *ngIf="!empty">
    <div>{{reportByLabel}} All Locations </div>
    <div>
      <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    </div>
    <div class="table-responsive">
      <table class="table table-bordered table-striped table-hover">
        <thead>
          <tr>
            <th>{{locationNameLabel}}</th>
            <th>{{visitingLabel}}</th>
            <th>{{startTimeLabel}}</th>
            <th>{{endtimeLabel}}</th>
            <th>{{visitSummaryLabel}}</th>
          </tr>
        </thead>
        <tbody *ngIf="empty">
          <tr>
            <td>
              <p>{{noReportRegYetMsg}}</p>
            </td>
          </tr>
        </tbody>
        <tbody>
          <tr *ngFor="let report of reportSummary">
            <td *ngIf="report.locationName !== 'Unassigned'">
              <div class="text-left"><a (click)="loadLocation(report?.locationId,report?.locationName)" href="#">{{report?.locationName}}</a></div>
            </td>
            <td *ngIf="report.locationName !== 'Unassigned'">
              <div class="text-left">
                <span *ngIf="report.active">
                {{report?.staffAssignedCount}}
                </span>
                <span *ngIf="!report.active">
                Inactive
                </span>
              </div>
            </td>
            <td *ngIf="report.locationName !== 'Unassigned'">
              <div class="text-left">
                <span *ngIf="report.active">
                {{report?.staffAbsesentCount}}
                </span>
                <span *ngIf="!report.active">
                </span>
              </div>
            </td>
            <td *ngIf="report.locationName !== 'Unassigned'">
              <div class="text-left">
                <span *ngIf="report.active">
                {{report?.staffPresentCount}}
                </span>
                <span *ngIf="!report.active">
                </span>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- END table-responsive-->
</div>
<modal #locationdetails>
  <modal-body>
    <div class="panel-body">
      <app-list-report [dutyLocation]="chosenLocation" [date]="date" [reports]="reports" [reportData]="reportData"
       (closed)="detailsClosed()"></app-list-report>
    </div>
  </modal-body>
</modal>
